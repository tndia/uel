<!doctype html>
<html lang="pt-BR" data-theme="auto">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="light dark">
  <title>Schema do storage · Planner UEL Pro</title>
  
  <meta property="og:title" content="Schema do storage">
  
  <meta property="og:type" content="website">
  <meta property="og:url" content="">
  <link rel="canonical" href="">
  <link rel="icon" href="../../assets/img/favicon.png">
  <link rel="stylesheet" href="../../assets/css/site.css">
</head>
<body>
<a class="skip-link" href="#main">Pular para o conteúdo</a>

<header class="site-header">
  <div class="container header-inner">
    <a class="brand" href="../../">
      <img src="../../assets/img/logo.svg" alt="" width="28" height="28">
      <span>Planner UEL Pro</span>
    </a>

    <button class="icon-btn mobile-only" type="button" aria-label="Abrir menu" data-toggle="nav">
      <span class="icon icon-menu" aria-hidden="true"></span>
    </button>

    <nav class="top-nav" aria-label="Navegação principal">
      <a class="" href="../../">Início</a>
      <a class="" href="../../docs/">Documentação</a>
      <a class="active" href="../../reference/">Referência</a>
      <a href="../../app/">App</a>
      <a href="../../downloads/">Downloads</a>
      <a href="../../faq/">FAQ</a>
      <a href="https://github.com/tndia/uel" target="_blank" rel="noreferrer">GitHub</a>
    </nav>

    <div class="header-actions">
      <div class="search-box">
        <input type="search" placeholder="Buscar… (Ctrl/⌘ K)" aria-label="Buscar no site" id="site-search">
        <div class="search-results" id="search-results" hidden></div>
      </div>

      <button class="icon-btn" type="button" aria-label="Alternar tema" data-toggle="theme">
        <span class="icon icon-sun" aria-hidden="true"></span>
      </button>
    </div>
  </div>
</header>

<div class="layout layout-doc">
  
  <aside class="sidebar" id="sidebar" aria-label="Navegação lateral">
    <div class="sidebar-inner">
      <div class="sidebar-search mobile-only">
        <input type="search" placeholder="Buscar…" aria-label="Buscar no site" id="site-search-mobile">
      </div>
      
    <div class="nav-block">
      <div class="callout tip">
        <strong>Atalho</strong>
        Use <code>Ctrl/⌘ + K</code> para buscar em qualquer página.
      </div>
    </div>
    
        <details  class="nav-section">
          <summary>Documentação</summary>
          <div class="nav-links"><a class="" href="../../docs/backup-restore/">Backup e restauração</a>
<a class="" href="../../docs/getting-started/">Primeiros passos</a>
<a class="" href="../../docs/publish/">Publicar no GitHub Pages</a>
<a class="" href="../../docs/setup/">Configuração</a>
<a class="" href="../../docs/offline/">Modo offline (PWA)</a>
<a class="" href="../../docs/local-development/">Rodar localmente</a>
<a class="" href="../../docs/architecture/">Arquitetura do repositório</a>
<a class="" href="../../docs/planning/">Plano semanal</a>
<a class="" href="../../docs/privacy/">Privacidade</a>
<a class="" href="../../docs/browser-support/">Compatibilidade de navegador</a>
<a class="" href="../../docs/site-customization/">Customizar o site (tema)</a>
<a class="" href="../../docs/modules/">Módulos e conteúdo</a>
<a class="" href="../../docs/content-maintenance/">Editar conteúdo do app (JSON)</a>
<a class="" href="../../docs/reviews/">Revisão espaçada</a>
<a class="" href="../../docs/exercises/">Exercícios e banco</a>
<a class="" href="../../docs/writing/">Redação</a>
<a class="" href="../../docs/literature/">Obras</a>
<a class="" href="../../docs/simulados/">Simulados</a>
<a class="" href="../../docs/calendar/">Calendário</a>
<a class="" href="../../docs/">Documentação</a>
<a class="" href="../../docs/guia-de-uso/">Guia de uso</a>
<a class="" href="../../docs/stats/">Estatísticas</a>
<a class="" href="../../docs/study-strategy/">Estratégia de estudo</a>
<a class="" href="../../docs/manutencao/">Manutenção e dados</a>
<a class="" href="../../docs/publicacao/">Publicação</a></div>
        </details>
        
        <details open class="nav-section">
          <summary>Referência</summary>
          <div class="nav-links"><a class="" href="../../reference/shortcuts/">Atalhos de teclado</a>
<a class="active" href="../../reference/storage-schema/">Schema do storage</a>
<a class="" href="../../reference/data-backup/">Backup (guia rápido)</a>
<a class="" href="../../reference/content-data/">Modelo de conteúdo (content.json)</a>
<a class="" href="../../reference/">Referência</a>
<a class="" href="../../reference/exercises-data/">Banco de exercícios (exercises.json)</a>
<a class="" href="../../reference/writing-prompts/">Prompts de redação (writing_prompts.json)</a>
<a class="" href="../../reference/service-worker-cache/">Service Worker e cache</a>
<a class="" href="../../reference/urls/">Rotas e URLs</a>
<a class="" href="../../reference/offline/">Offline e PWA (guia rápido)</a></div>
        </details>
        
        <details  class="nav-section">
          <summary>Projeto</summary>
          <div class="nav-links"><a class="" href="../../downloads/">Downloads</a>
<a class="" href="../../faq/">FAQ</a>
<a class="" href="../../license/">Licença</a>
<a class="" href="../../troubleshooting/">Troubleshooting</a>
<a class="" href="../../changelog/">Changelog</a>
<a class="" href="../../about/">Sobre</a>
<a class="" href="../../contact/">Contato</a>
<a class="" href="../../contributing/">Contribuindo</a></div>
        </details>
        
      <div class="sidebar-footer">
        <a href="https://github.com/tndia/uel" target="_blank" rel="noreferrer">Ver no GitHub</a>
        <a href="../../contact/">Contato</a>
      </div>
    </div>
  </aside>
  

  <main id="main" class="content">
    
    <nav class="breadcrumbs" aria-label="Breadcrumbs">
      <span class="crumbs"><a href="../../">Início</a> <span class='sep'>/</span> <a href="../../reference/">Referência</a> <span class='sep'>/</span> <span aria-current="page">Schema do storage</span></span>
    </nav>
    
    <article class="article">
      <h1>Schema do storage</h1>
<p>O app salva estado no <code>localStorage</code> usando a chave:</p>
<ul>
<li><code>uel_planner_pro:v2</code></li>
</ul>
<p>Arquivo-fonte: <code>app/assets/js/storage.js</code>.</p>
<h2 id="estrutura-alto-nivel">Estrutura (alto nível)<a aria-label="Link permanente" class="heading-anchor" href="#estrutura-alto-nivel">¶</a></h2>
<div class="codehilite">
<pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w"> </span><span class="nt">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w"> </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.0.0"</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="nt">"config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">"examDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YYYY-MM-DD"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"track"</span><span class="p">:</span><span class="w"> </span><span class="s2">"geral|discursiva"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"targetCourse"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ingles|espanhol"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"sessionMinutes"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"weeklyHoursTarget"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"availability"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"mon"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w"> </span><span class="nt">"tue"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w"> </span><span class="nt">"..."</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="nt">"strengths"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"lp"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nt">"mat"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">"progress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">"modules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"lp_mod_01"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"mastery"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nt">"lastStudied"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w"> </span><span class="nt">"nextReview"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w"> </span><span class="nt">"lapses"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">"streak"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"current"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">"best"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">"lastActive"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="nt">"pomodoro"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"totalMinutes"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">"sessions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YYYY-MM-DD"</span><span class="p">,</span><span class="w"> </span><span class="nt">"minutes"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="nt">"subjectId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lp"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">  </span><span class="nt">"flashcards"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">  </span><span class="nt">"submissions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">  </span><span class="nt">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="p">}</span>
</code></pre>
</div>
<h2 id="campos-importantes">Campos importantes<a aria-label="Link permanente" class="heading-anchor" href="#campos-importantes">¶</a></h2>
<ul>
<li><code>config.availability</code>: minutos por dia (base do plano semanal)</li>
<li><code>progress.modules</code>: progresso e revisões por módulo</li>
<li><code>errors</code>: banco de erros (o que/por quê/como corrigir)</li>
<li><code>submissions</code>: redações registradas</li>
</ul>
<h2 id="compatibilidade-migracao">Compatibilidade (migração)<a aria-label="Link permanente" class="heading-anchor" href="#compatibilidade-migracao">¶</a></h2>
<p>A função <code>migrate()</code> faz um merge simples:</p>
<ul>
<li>garante que campos essenciais existam,</li>
<li>preserva chaves desconhecidas (forward‑compat).</li>
</ul>
<p>Isso facilita evoluir versões sem quebrar backups antigos.</p>

      
      <p class="edit-link"><a href="https://github.com/tndia/uel/blob/main/site-src/_reference/storage-schema.md" target="_blank" rel="noreferrer">Editar esta página no GitHub</a></p>
      
    </article>
  </main>

  
  <aside class="toc" aria-label="Nesta página">
    <div class="toc-inner">
      <div class="toc-title">Nesta página</div>
      <nav><a class="lvl2" href="#estrutura-alto-nivel">Estrutura (alto nível)</a><a class="lvl2" href="#campos-importantes">Campos importantes</a><a class="lvl2" href="#compatibilidade-migracao">Compatibilidade (migração)</a></nav>
    </div>
  </aside>
  
</div>

<footer class="site-footer">
  <div class="container footer-inner">
    <div>
      <strong>Planner UEL Pro</strong><br>
      <span class="muted">Local-first · Offline · Privacidade</span>
    </div>
    <div class="footer-links">
      <a href="../../about/">Sobre</a>
      <a href="../../license/">Licença</a>
      <a href="../../contributing/">Contribuindo</a>
      <a href="https://github.com/tndia/uel/issues" target="_blank" rel="noreferrer">Issues</a>
    </div>
  </div>
</footer>

<button class="back-to-top" type="button" aria-label="Voltar ao topo" data-toggle="top" hidden>↑</button>

<script>window.__ROOT__="../../"; window.SITE_REPO_URL="https://github.com/tndia/uel";</script>
<script src="../../assets/js/site.js"></script>
</body>
</html>